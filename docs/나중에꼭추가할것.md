## 4. AI 서버 연동 (Phase 10)

- **4.1 Chat/Oracle SSE 연동**
  - 설계:
    - `POST /api/v1/chat/ask` (SSE 스트리밍), FastAPI AI 서버 프록시.
    - 사용자 포트폴리오, 사주 정보(및 Investment Style, 향후 확장)를 프롬프트 컨텍스트로 포함.
  - 상태:
    - Status 테이블에서 AI 모듈 진행률 0% (Pending).
  - 누락 기능:
    - `ChatController` SSE 엔드포인트 구현.
    - FastAPI 클라이언트 및 스트리밍 파이프라인.
    - 프롬프트 빌더(사주 + 투자 성향 + 포트폴리오 컨텍스트 조합).

## 5. 외부 API 다중 Provider 전략 (Phase 8)

- **5.1 HistoricalDataProvider 추상화**
  - 설계:
    - `HistoricalDataProvider` 인터페이스, `EodhdProvider`, 추가 Provider (Alpha Vantage 등), `ProviderManager`.
  - 상태:
    - Candles API(EODHD 단일 Provider + Redis/DB 캐싱)는 구현 완료로 표기.
    - 다중 Provider 전략은 향후 계획(Phase 8)으로만 존재.
  - 누락 기능:
    - Provider 추상화 계층, 다중 Provider 병합/Failover 로직.

## 6. Market Movers 관리 기능 (Phase 9)

- **6.1 관리자 API + 스케줄러**
  - 설계:
    - `POST /api/v1/admin/market-cap-stocks`, `PUT/DELETE /api/v1/admin/market-cap-stocks/{id}`.
    - `@Scheduled` 또는 Quartz 기반 시가총액 Top 20 자동 갱신.
  - 상태:
    - `market_cap_stocks` 테이블 및 기본 시드, `MarketService.getMovers()`는 구현 완료.
    - 관리자 API/스케줄러는 향후 계획.
  - 누락 기능:
    - 관리자용 컨트롤러/서비스/보안 설정.
    - 시가총액 순위 자동 갱신 잡.